
<!DOCTYPE html>

<html dir="rtl" lang="ur">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>دفتر منظم</title>
<link href="/manifest.json" rel="manifest"/>
<link href="icon-192x192.png" rel="apple-touch-icon"/> <!-- Placeholder, include your app icon -->
<meta content="#007bff" name="theme-color"/>
<style>
        /* Jameel Noori Nastaleeq Font - Fallback to system fonts */
        @font-face {
            font-family: 'Jameel Noori Nastaleeq';
            src: url('https://raw.githubusercontent.com/urduhack/Jameel-Noori-Nastaleeq-Font/master/Jameel%20Noori%20Nastaleeq.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        :root {
            --bg-color: #f4f4f4;
            --text-color: #333;
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --accent-color: #28a745;
            --delete-color: #dc3545;
            --edit-color: #ffc107;
            --card-bg: #fff;
            --border-color: #eee;
            --input-bg: #f9f9f9;
            --table-even-bg: #f2f2f2;
            --table-header-bg: var(--primary-color);
            --table-header-text: white;
            --box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            --notification-success-bg: #4CAF50;
            --notification-info-bg: #17a2b8;
            --notification-error-bg: #f44336;
            --notification-text: white;
        }

        body.dark-theme {
            --bg-color: #333;
            --text-color: #eee;
            --primary-color: #0056b3;
            --secondary-color: #5a6268;
            --accent-color: #218838;
            --delete-color: #bb2d3b;
            --edit-color: #d19a00;
            --card-bg: #444;
            --border-color: #666;
            --input-bg: #555;
            --table-even-bg: #4c4c4c;
            --table-header-bg: #004085;
            --table-header-text: #eee;
            --box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            --notification-success-bg: #388e3c;
            --notification-info-bg: #0288d1;
            --notification-error-bg: #d32f2f;
        }

        body {
            font-family: 'Jameel Noori Nastaleeq', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.8;
            direction: rtl;
            text-align: right;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            font-size: 1.1em; /* Base font size */
        }

        .container {
            display: flex;
            flex: 1;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
            box-sizing: border-box;
        }

        .sidebar {
            width: 250px;
            background-color: var(--card-bg);
            padding: 20px;
            box-shadow: var(--box-shadow);
            border-radius: 8px;
            margin-left: 20px;
            flex-shrink: 0;
        }

        .sidebar h2 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 30px;
            font-size: 2em;
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
        }

        .sidebar ul li {
            margin-bottom: 10px;
        }

        .sidebar ul li button {
            display: block;
            width: 100%;
            padding: 12px 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s ease;
            text-align: right;
            font-family: inherit;
        }

        .sidebar ul li button:hover {
            background-color: var(--primary-color);
            filter: brightness(90%);
        }

        .main-content {
            flex-grow: 1;
            background-color: var(--card-bg);
            padding: 20px;
            box-shadow: var(--box-shadow);
            border-radius: 8px;
            overflow-x: auto;
        }

        .module-section {
            display: none;
        }

        .module-section.active {
            display: block;
        }

        h1, h2, h3 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        input[type="text"],
        input[type="date"],
        input[type="time"],
        input[type="email"],
        input[type="tel"],
        textarea,
        select {
            width: calc(100% - 22px);
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            box-sizing: border-box;
            background-color: var(--input-bg);
            color: var(--text-color);
            font-family: inherit;
            font-size: 1.1em;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1); /* To look like printed paper */
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        button {
            padding: 10px 20px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            transition: background-color 0.3s ease;
            font-family: inherit;
            margin-left: 10px; /* For buttons in a row */
        }

        button:hover {
            filter: brightness(90%);
        }

        .delete-btn {
            background-color: var(--delete-color);
        }

        .edit-btn {
            background-color: var(--edit-color);
            color: var(--text-color);
        }
        .whatsapp-btn {
            background-color: #25D366; /* WhatsApp green */
            margin-left: 5px;
        }
        .whatsapp-btn:hover {
            background-color: #1DA851;
        }
        .sms-btn {
            background-color: #4CAF50; /* Standard green */
            margin-left: 5px;
        }
        .sms-btn:hover {
            background-color: #45a049;
        }


        .action-buttons {
            margin-top: 20px;
            text-align: left;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: flex-end; /* Align to the right for RTL */
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 1.05em;
        }

        table th, table td {
            border: 1px solid var(--border-color);
            padding: 10px;
            text-align: right;
            vertical-align: top;
        }

        table th {
            background-color: var(--table-header-bg);
            color: var(--table-header-text);
            white-space: nowrap;
        }

        table tbody tr:nth-child(even) {
            background-color: var(--table-even-bg);
        }

        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .controls input[type="text"], .controls input[type="date"], .controls select {
            width: auto;
            min-width: 180px;
            flex-grow: 1;
            margin-left: 0; /* Override default button margin */
        }

        .export-options {
            margin-bottom: 20px;
            text-align: left;
            display: flex;
            gap: 10px;
            justify-content: flex-end; /* Align to the right for RTL */
            flex-wrap: wrap;
        }
        .export-options button {
            margin-left: 0;
        }


        .theme-switcher {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
        }

        .theme-switcher button {
            background-color: var(--secondary-color);
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 0.9em;
            margin-right: 0;
            margin-left: 0; /* Ensure no extra margin */
        }

        .file-upload-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .file-upload-preview div {
            border: 1px solid var(--border-color);
            padding: 5px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
            background-color: var(--input-bg);
        }

        .file-upload-preview img {
            max-width: 50px;
            max-height: 50px;
            object-fit: contain;
        }

        .file-upload-preview button {
            background-color: var(--delete-color);
            color: white;
            border: none;
            padding: 3px 6px;
            font-size: 0.8em;
            cursor: pointer;
            border-radius: 3px;
            margin-left: 0; /* Override default */
        }

        .hidden {
            display: none;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--notification-info-bg);
            color: var(--notification-text);
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            display: none; /* Hidden by default */
            font-size: 1.1em;
            font-family: inherit;
            animation: fadeIn 0.5s;
        }
        .notification.show {
            display: block;
        }
        .notification.hide {
            animation: fadeOut 0.5s forwards;
        }

        .notification.success { background-color: var(--notification-success-bg); }
        .notification.error { background-color: var(--notification-error-bg); }
        .notification.info { background-color: var(--notification-info-bg); }
        .notification.urgent { background-color: var(--delete-color); }


        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-20px); }
        }

        .status-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9em;
            font-weight: bold;
            color: white;
            text-align: center;
        }

        .status-badge.complete { background-color: #28a745; } /* سبز */
        .status-badge.pending { background-color: #ffc107; color: #333; } /* پیلا */
        .status-badge.urgent { background-color: #dc3545; } /* سرخ */
        .status-badge.info { background-color: #17a2b8; } /* نیلا */
        .status-badge.approved { background-color: #28a745; }
        .status-badge.rejected { background-color: #dc3545; }


        /* Mobile-First Responsiveness */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                padding: 10px;
            }

            .sidebar {
                width: 100%;
                margin-left: 0;
                margin-bottom: 20px;
                padding: 10px;
                order: -1; /* Place sidebar (now navigation) at the top */
                position: sticky;
                top: 0;
                z-index: 999;
                border-radius: 0;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            }

            .sidebar h2 {
                display: none; /* Hide app title on mobile sidebar */
            }

            .sidebar ul {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: 5px;
            }

            .sidebar ul li {
                flex: 1 1 auto; /* Allow items to grow/shrink, wrap */
                margin-bottom: 0;
            }

            .sidebar ul li button {
                padding: 8px 10px;
                font-size: 0.9em;
                text-align: center; /* Center text for buttons */
            }

            .main-content {
                padding: 15px;
                border-radius: 8px;
            }

            h1, h2, h3 {
                font-size: 1.6em;
                margin-bottom: 15px;
            }

            input[type="text"],
            input[type="date"],
            input[type="time"],
            input[type="email"],
            input[type="tel"],
            textarea,
            select {
                width: 100%; /* Full width */
                padding: 8px;
                font-size: 1em;
            }

            .action-buttons, .controls, .export-options {
                flex-direction: column;
                gap: 10px;
                align-items: stretch; /* Stretch buttons */
            }

            .action-buttons button, .controls button, .export-options button {
                width: 100%;
                margin-left: 0; /* Remove horizontal margin */
            }

            .controls input, .controls select {
                min-width: unset; /* Remove min-width constraint */
                width: 100%;
            }

            table, table tbody, table tr, table td, table th {
                display: block; /* Make table elements behave like blocks */
                width: 100%;
            }

            table thead {
                display: none; /* Hide table headers on small screens */
            }

            table tr {
                margin-bottom: 10px;
                border: 1px solid var(--border-color);
                border-radius: 8px;
                overflow: hidden;
            }

            table td {
                border: none; /* Remove individual cell borders */
                border-bottom: 1px solid var(--border-color);
                position: relative;
                padding-left: 50%; /* Space for pseudo-element label */
                text-align: right;
                word-break: break-word;
            }

            table td:last-child {
                border-bottom: 0; /* No border on last cell */
            }

            table td::before {
                content: attr(data-label); /* Use data-label for content */
                position: absolute;
                right: 10px; /* Position label to the right */
                width: 45%; /* Width for the label */
                padding-left: 10px;
                font-weight: bold;
                text-align: right;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            /* Specific labels for each module's table cells */
            #tasksTable td:nth-of-type(1)::before { content: "تاریخ:"; }
            #tasksTable td:nth-of-type(2)::before { content: "کام کا عنوان:"; }
            #tasksTable td:nth-of-type(3)::before { content: "تفصیل:"; }
            #tasksTable td:nth-of-type(4)::before { content: "اہمیت:"; }
            #tasksTable td:nth-of-type(5)::before { content: "حالت:"; }
            #tasksTable td:nth-of-type(6)::before { content: "فائلیں:"; }
            #tasksTable td:nth-of-type(7)::before { content: "آپشنز:"; }

            #remindersTable td:nth-of-type(1)::before { content: "عنوان:"; }
            #remindersTable td:nth-of-type(2)::before { content: "تفصیل:"; }
            #remindersTable td:nth-of-type(3)::before { content: "تاریخ:"; }
            #remindersTable td:nth-of-type(4)::before { content: "وقت:"; }
            #remindersTable td:nth-of-type(5)::before { content: "نوعیت:"; }
            #remindersTable td:nth-of-type(6)::before { content: "آپشنز:"; }

            #urgentTasksTable td:nth-of-type(1)::before { content: "عنوان:"; }
            #urgentTasksTable td:nth-of-type(2)::before { content: "تفصیل:"; }
            #urgentTasksTable td:nth-of-type(3)::before { content: "آخری تاریخ:"; }
            #urgentTasksTable td:nth-of-type(4)::before { content: "آخری وقت:"; }
            #urgentTasksTable td:nth-of-type(5)::before { content: "آپشنز:"; }

            #meetingsTable td:nth-of-type(1)::before { content: "تاریخ:"; }
            #meetingsTable td:nth-of-type(2)::before { content: "وقت:"; }
            #meetingsTable td:nth-of-type(3)::before { content: "شخصیات:"; }
            #meetingsTable td:nth-of-type(4)::before { content: "جگہ:"; }
            #meetingsTable td:nth-of-type(5)::before { content: "تفصیل:"; }
            #meetingsTable td:nth-of-type(6)::before { content: "آپشنز:"; }

            #notificationsTable td:nth-of-type(1)::before { content: "تاریخ:"; }
            #notificationsTable td:nth-of-type(2)::before { content: "عنوان:"; }
            #notificationsTable td:nth-of-type(3)::before { content: "نوعیت:"; }
            #notificationsTable td:nth-of-type(4)::before { content: "تفصیل:"; }
            #notificationsTable td:nth-of-type(5)::before { content: "فائلیں:"; }
            #notificationsTable td:nth-of-type(6)::before { content: "آپشنز:"; }

            #contactsTable td:nth-of-type(1)::before { content: "نام/تنظیم:"; }
            #contactsTable td:nth-of-type(2)::before { content: "فون:"; }
            #contactsTable td:nth-of-type(3)::before { content: "ای میل:"; }
            #contactsTable td:nth-of-type(4)::before { content: "رشتہ/معمول:"; }
            #contactsTable td:nth-of-type(5)::before { content: "پتہ:"; }
            #contactsTable td:nth-of-type(6)::before { content: "آپشنز:"; }

            #performanceTable td:nth-of-type(1)::before { content: "تاریخ:"; }
            #performanceTable td:nth-of-type(2)::before { content: "عنوان:"; }
            #performanceTable td:nth-of-type(3)::before { content: "مدت:"; }
            #performanceTable td:nth-of-type(4)::before { content: "تفصیل:"; }
            #performanceTable td:nth-of-type(5)::before { content: "فائلیں:"; }
            #performanceTable td:nth-of-type(6)::before { content: "آپشنز:"; }

            #schedulesTable td:nth-of-type(1)::before { content: "تاریخ:"; }
            #schedulesTable td:nth-of-type(2)::before { content: "وقت:"; }
            #schedulesTable td:nth-of-type(3)::before { content: "پروگرام کا نام:"; }
            #schedulesTable td:nth-of-type(4)::before { content: "نوعیت:"; }
            #schedulesTable td:nth-of-type(5)::before { content: "جگہ:"; }
            #schedulesTable td:nth-of-type(6)::before { content: "تفصیل:"; }
            #schedulesTable td:nth-of-type(7)::before { content: "آپشنز:"; }

            #messagesTable td:nth-of-type(1)::before { content: "تاریخ:"; }
            #messagesTable td:nth-of-type(2)::before { content: "نوعیت:"; }
            #messagesTable td:nth-of-type(3)::before { content: "بھیجنے والا/وصول کنندہ:"; }
            #messagesTable td:nth-of-type(4)::before { content: "مضمون:"; }
            #messagesTable td:nth-of-type(5)::before { content: "تفصیل:"; }
            #messagesTable td:nth-of-type(6)::before { content: "فائلیں:"; }
            #messagesTable td:nth-of-type(7)::before { content: "آپشنز:"; }

            #lettersTable td:nth-of-type(1)::before { content: "تاریخ اجرا:"; }
            #lettersTable td:nth-of-type(2)::before { content: "وصول کنندہ:"; }
            #lettersTable td:nth-of-type(3)::before { content: "مضمون:"; }
            #lettersTable td:nth-of-type(4)::before { content: "تفصیل:"; }
            #lettersTable td:nth-of-type(5)::before { content: "فائلیں:"; }
            #lettersTable td:nth-of-type(6)::before { content: "آپشنز:"; }

            #demandsTable td:nth-of-type(1)::before { content: "تاریخ:"; }
            #demandsTable td:nth-of-type(2)::before { content: "عنوان:"; }
            #demandsTable td:nth-of-type(3)::before { content: "مطالبہ کرنے والا:"; }
            #demandsTable td:nth-of-type(4)::before { content: "تفصیل:"; }
            #demandsTable td:nth-of-type(5)::before { content: "حالت:"; }
            #demandsTable td:nth-of-type(6)::before { content: "فائلیں:"; }
            #demandsTable td:nth-of-type(7)::before { content: "آپشنز:"; }

            .theme-switcher {
                position: static;
                text-align: left;
                margin-bottom: 10px;
                padding: 0 10px;
            }
        }

        /* Print Styles */
        @media print {
            body {
                background-color: white;
                font-family: 'Jameel Noori Nastaleeq', Arial, sans-serif;
                color: black;
                font-size: 12pt;
                line-height: 1.5;
            }

            .container {
                display: block;
                padding: 0;
                max-width: 100%;
                margin: 0;
            }

            .sidebar, .controls, .action-buttons, .theme-switcher, .export-options button:not(.print-btn), input[type="file"], .notification {
                display: none !important;
            }

            .main-content {
                box-shadow: none;
                padding: 0;
                margin: 0;
                width: 100%;
            }

            table {
                border: 1px solid black;
                page-break-inside: auto;
            }

            table tr {
                page-break-inside: avoid;
                page-break-after: auto;
            }

            table th, table td {
                border: 1px solid black;
                padding: 8px;
                font-size: 10pt;
                color: black; /* Ensure black text for print */
            }

            table th {
                background-color: #e0e0e0 !important; /* Lighter background for print headers */
                -webkit-print-color-adjust: exact;
                color-adjust: exact;
            }
            
            h1, h2, h3 {
                color: black;
                border-bottom: 1px solid #ccc;
                text-align: center; /* Center headings on print */
                font-size: 18pt;
                margin-bottom: 15px;
            }

            /* Ensure input fields look like text, not editable boxes */
            input, textarea, select {
                border: none !important;
                padding: 0 !important;
                background-color: transparent !important;
                box-shadow: none !important;
                width: auto !important;
                display: inline-block;
                min-width: 100px; /* Ensure some space for content */
                color: black !important;
                -webkit-print-color-adjust: exact;
                color-adjust: exact;
            }
            .form-group label {
                display: inline-block;
                margin-left: 10px;
                font-weight: bold;
            }
            .form-group {
                margin-bottom: 5px; /* Reduce space between form groups */
            }
            .file-upload-preview {
                display: none !important; /* Hide file previews in print */
            }
            td a {
                text-decoration: none;
                color: black;
            }
        }
    </style>
</head>
<body>
<div class="theme-switcher">
<button id="themeToggle">تھیم بدلیں</button>
<button id="requestNotificationPermission">نوٹیفیکیشن کی اجازت دیں</button>
</div>
<div class="notification" id="notification"></div>
<div class="container">
<aside class="sidebar">
<h2>دفتر منظم</h2>
<nav>
<ul>
<li><button data-module="tasks">کام</button></li>
<li><button data-module="reminders">مختلف امور کی یاد دہانیاں</button></li>
<li><button data-module="urgentTasks">فوری کرنے کے کام</button></li>
<li><button data-module="meetings">ملاقاتیں</button></li>
<li><button data-module="notifications">اطلاعات</button></li>
<li><button data-module="contacts">رابطے</button></li>
<li><button data-module="performance">کارگزاریاں</button></li>
<li><button data-module="schedules">پروگراموں کا شیڈول</button></li>
<li><button data-module="messages">پیغامات</button></li>
<li><button data-module="letters">خطوط</button></li>
<li><button data-module="demands">مطالبات</button></li>
<li><button data-module="backupRestore">بیک اپ / ری سٹور</button></li>
</ul>
</nav>
</aside>
<main class="main-content">
<!-- کام Module -->
<section class="module-section active" id="tasks">
<h2>کام – روزمرہ یا خاص نوعیت کے کام</h2>
<form id="taskForm">
<input id="taskId" type="hidden"/>
<div class="form-group">
<label for="taskName">کام کا عنوان:</label>
<input id="taskName" required="" type="text"/>
</div>
<div class="form-group">
<label for="taskDescription">تفصیل:</label>
<textarea id="taskDescription" rows="3"></textarea>
</div>
<div class="form-group">
<label for="taskDueDate">آخری تاریخ:</label>
<input id="taskDueDate" type="date"/>
</div>
<div class="form-group">
<label for="taskPriority">اہمیت:</label>
<select id="taskPriority">
<option value="معمولی">معمولی</option>
<option value="اوسط">اوسط</option>
<option value="اہم">اہم</option>
<option value="انتہائی اہم">انتہائی اہم</option>
</select>
</div>
<div class="form-group">
<label for="taskStatus">حالت:</label>
<select id="taskStatus">
<option value="زیر التوا">زیر التوا</option>
<option value="مکمل">مکمل</option>
</select>
</div>
<div class="form-group">
<label for="taskFiles">فائلیں (پی ڈی ایف، تصاویر):</label>
<input accept=".pdf,image/*" id="taskFiles" multiple="" type="file"/>
<div class="file-upload-preview" id="taskFilesPreview"></div>
</div>
<div class="action-buttons">
<button type="submit">محفوظ کریں</button>
<button id="clearTaskForm" type="button">صاف کریں</button>
</div>
</form>
<h3>کاموں کی فہرست</h3>
<div class="controls">
<input id="taskSearch" placeholder="تلاش کریں..." type="text"/>
<input id="taskFilterDate" type="date"/>
<select id="taskSortBy">
<option value="dueDate">تاریخ وار (قدیم ترین)</option>
<option value="dueDateDesc">تاریخ وار (جدید ترین)</option>
<option value="priority">اہمیت</option>
<option value="status">حالت</option>
</select>
<button onclick="filterAndSort('tasks')">فلٹر / ترتیب دیں</button>
</div>
<div class="export-options">
<button class="print-btn" onclick="printTable('tasksTable')">پرنٹ کریں</button>
<button onclick="exportTable('tasksTable', 'csv')">CSV ایکسپورٹ کریں</button>
<button onclick="exportTable('tasksTable', 'pdf')">PDF ایکسپورٹ کریں</button>
</div>
<table id="tasksTable">
<thead>
<tr>
<th>تاریخ</th>
<th>کام کا عنوان</th>
<th>تفصیل</th>
<th>اہمیت</th>
<th>حالت</th>
<th>فائلیں</th>
<th>آپشنز</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</section>
<!-- مختلف امور کی یاد دہانیاں Module -->
<section class="module-section" id="reminders">
<h2>مختلف امور کی یاد دہانیاں – نوٹس، الارم، یا تاریخ وار یاددہانی</h2>
<form id="reminderForm">
<input id="reminderId" type="hidden"/>
<div class="form-group">
<label for="reminderTitle">یاد دہانی کا عنوان:</label>
<input id="reminderTitle" required="" type="text"/>
</div>
<div class="form-group">
<label for="reminderDetails">تفصیل:</label>
<textarea id="reminderDetails" rows="3"></textarea>
</div>
<div class="form-group">
<label for="reminderDate">تاریخ:</label>
<input id="reminderDate" required="" type="date"/>
</div>
<div class="form-group">
<label for="reminderTime">وقت:</label>
<input id="reminderTime" type="time"/>
</div>
<div class="form-group">
<label for="reminderType">نوعیت:</label>
<select id="reminderType">
<option value="نوٹس">نوٹس</option>
<option value="الارم">الارم</option>
<option value="تاریخ وار">تاریخ وار</option>
</select>
</div>
<div class="action-buttons">
<button type="submit">محفوظ کریں</button>
<button id="clearReminderForm" type="button">صاف کریں</button>
</div>
</form>
<h3>یاد دہانیوں کی فہرست</h3>
<div class="controls">
<input id="reminderSearch" placeholder="تلاش کریں..." type="text"/>
<input id="reminderFilterDate" type="date"/>
<select id="reminderSortBy">
<option value="dateTime">تاریخ و وقت (قدیم ترین)</option>
<option value="dateTimeDesc">تاریخ و وقت (جدید ترین)</option>
<option value="type">نوعیت</option>
</select>
<button onclick="filterAndSort('reminders')">فلٹر / ترتیب دیں</button>
</div>
<div class="export-options">
<button class="print-btn" onclick="printTable('remindersTable')">پرنٹ کریں</button>
<button onclick="exportTable('remindersTable', 'csv')">CSV ایکسپورٹ کریں</button>
<button onclick="exportTable('remindersTable', 'pdf')">PDF ایکسپورٹ کریں</button>
</div>
<table id="remindersTable">
<thead>
<tr>
<th>عنوان</th>
<th>تفصیل</th>
<th>تاریخ</th>
<th>وقت</th>
<th>نوعیت</th>
<th>آپشنز</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</section>
<!-- فوری کرنے کے کام Module -->
<section class="module-section" id="urgentTasks">
<h2>فوری کرنے کے کام – اہم، فوری نوعیت کے امور</h2>
<form id="urgentTaskForm">
<input id="urgentTaskId" type="hidden"/>
<div class="form-group">
<label for="urgentTaskName">فوری کام کا عنوان:</label>
<input id="urgentTaskName" required="" type="text"/>
</div>
<div class="form-group">
<label for="urgentTaskDescription">تفصیل:</label>
<textarea id="urgentTaskDescription" rows="3"></textarea>
</div>
<div class="form-group">
<label for="urgentTaskDueDate">آخری تاریخ:</label>
<input id="urgentTaskDueDate" required="" type="date"/>
</div>
<div class="form-group">
<label for="urgentTaskDueTime">آخری وقت:</label>
<input id="urgentTaskDueTime" type="time"/>
</div>
<div class="action-buttons">
<button type="submit">محفوظ کریں</button>
<button id="clearUrgentTaskForm" type="button">صاف کریں</button>
</div>
</form>
<h3>فوری کاموں کی فہرست</h3>
<div class="controls">
<input id="urgentTaskSearch" placeholder="تلاش کریں..." type="text"/>
<input id="urgentTaskFilterDate" type="date"/>
<select id="urgentTaskSortBy">
<option value="dueDate">تاریخ وار (قدیم ترین)</option>
<option value="dueDateDesc">تاریخ وار (جدید ترین)</option>
</select>
<button onclick="filterAndSort('urgentTasks')">فلٹر / ترتیب دیں</button>
</div>
<div class="export-options">
<button class="print-btn" onclick="printTable('urgentTasksTable')">پرنٹ کریں</button>
<button onclick="exportTable('urgentTasksTable', 'csv')">CSV ایکسپورٹ کریں</button>
<button onclick="exportTable('urgentTasksTable', 'pdf')">PDF ایکسپورٹ کریں</button>
</div>
<table id="urgentTasksTable">
<thead>
<tr>
<th>عنوان</th>
<th>تفصیل</th>
<th>آخری تاریخ</th>
<th>آخری وقت</th>
<th>آپشنز</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</section>
<!-- ملاقاتیں Module -->
<section class="module-section" id="meetings">
<h2>ملاقاتیں – شخصیات، وقت، جگہ، تفصیل</h2>
<form id="meetingForm">
<input id="meetingId" type="hidden"/>
<div class="form-group">
<label for="meetingPerson">شخصیات:</label>
<input id="meetingPerson" required="" type="text"/>
</div>
<div class="form-group">
<label for="meetingDate">تاریخ:</label>
<input id="meetingDate" required="" type="date"/>
</div>
<div class="form-group">
<label for="meetingTime">وقت:</label>
<input id="meetingTime" required="" type="time"/>
</div>
<div class="form-group">
<label for="meetingLocation">جگہ:</label>
<input id="meetingLocation" type="text"/>
</div>
<div class="form-group">
<label for="meetingDetails">تفصیل:</label>
<textarea id="meetingDetails" rows="3"></textarea>
</div>
<div class="action-buttons">
<button type="submit">محفوظ کریں</button>
<button id="clearMeetingForm" type="button">صاف کریں</button>
</div>
</form>
<h3>ملاقاتوں کی فہرست</h3>
<div class="controls">
<input id="meetingSearch" placeholder="تلاش کریں..." type="text"/>
<input id="meetingFilterDate" type="date"/>
<select id="meetingSortBy">
<option value="dateTime">تاریخ و وقت (قدیم ترین)</option>
<option value="dateTimeDesc">تاریخ و وقت (جدید ترین)</option>
</select>
<button onclick="filterAndSort('meetings')">فلٹر / ترتیب دیں</button>
</div>
<div class="export-options">
<button class="print-btn" onclick="printTable('meetingsTable')">پرنٹ کریں</button>
<button onclick="exportTable('meetingsTable', 'csv')">CSV ایکسپورٹ کریں</button>
<button onclick="exportTable('meetingsTable', 'pdf')">PDF ایکسپورٹ کریں</button>
</div>
<table id="meetingsTable">
<thead>
<tr>
<th>تاریخ</th>
<th>وقت</th>
<th>شخصیات</th>
<th>جگہ</th>
<th>تفصیل</th>
<th>آپشنز</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</section>
<!-- اطلاعات Module -->
<section class="module-section" id="notifications">
<h2>اطلاعات – داخلی و خارجی اطلاع نامے</h2>
<form id="notificationForm">
<input id="notificationId" type="hidden"/>
<div class="form-group">
<label for="notificationTitle">اطلاع کا عنوان:</label>
<input id="notificationTitle" required="" type="text"/>
</div>
<div class="form-group">
<label for="notificationType">نوعیت:</label>
<select id="notificationType">
<option value="داخلی">داخلی</option>
<option value="خارجی">خارجی</option>
</select>
</div>
<div class="form-group">
<label for="notificationDetails">تفصیل:</label>
<textarea id="notificationDetails" rows="3"></textarea>
</div>
<div class="form-group">
<label for="notificationDate">تاریخ:</label>
<input id="notificationDate" required="" type="date"/>
</div>
<div class="form-group">
<label for="notificationFiles">فائلیں (پی ڈی ایف، تصاویر):</label>
<input accept=".pdf,image/*" id="notificationFiles" multiple="" type="file"/>
<div class="file-upload-preview" id="notificationFilesPreview"></div>
</div>
<div class="action-buttons">
<button type="submit">محفوظ کریں</button>
<button id="clearNotificationForm" type="button">صاف کریں</button>
</div>
</form>
<h3>اطلاعات کی فہرست</h3>
<div class="controls">
<input id="notificationSearch" placeholder="تلاش کریں..." type="text"/>
<input id="notificationFilterDate" type="date"/>
<select id="notificationSortBy">
<option value="date">تاریخ وار (قدیم ترین)</option>
<option value="dateDesc">تاریخ وار (جدید ترین)</option>
<option value="type">نوعیت</option>
</select>
<button onclick="filterAndSort('notifications')">فلٹر / ترتیب دیں</button>
</div>
<div class="export-options">
<button class="print-btn" onclick="printTable('notificationsTable')">پرنٹ کریں</button>
<button onclick="exportTable('notificationsTable', 'csv')">CSV ایکسپورٹ کریں</button>
<button onclick="exportTable('notificationsTable', 'pdf')">PDF ایکسپورٹ کریں</button>
</div>
<table id="notificationsTable">
<thead>
<tr>
<th>تاریخ</th>
<th>عنوان</th>
<th>نوعیت</th>
<th>تفصیل</th>
<th>فائلیں</th>
<th>آپشنز</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</section>
<!-- رابطے Module -->
<section class="module-section" id="contacts">
<h2>رابطے – افراد، تنظیمیں، فون، ای میل، رشتہ</h2>
<form id="contactForm">
<input id="contactId" type="hidden"/>
<div class="form-group">
<label for="contactName">نام/تنظیم:</label>
<input id="contactName" required="" type="text"/>
</div>
<div class="form-group">
<label for="contactPhone">فون:</label>
<input id="contactPhone" type="tel"/>
</div>
<div class="form-group">
<label for="contactEmail">ای میل:</label>
<input id="contactEmail" type="email"/>
</div>
<div class="form-group">
<label for="contactRelationship">رشتہ/معمول:</label>
<input id="contactRelationship" type="text"/>
</div>
<div class="form-group">
<label for="contactAddress">پتہ:</label>
<textarea id="contactAddress" rows="2"></textarea>
</div>
<div class="action-buttons">
<button type="submit">محفوظ کریں</button>
<button id="clearContactForm" type="button">صاف کریں</button>
</div>
</form>
<h3>رابطوں کی فہرست</h3>
<div class="controls">
<input id="contactSearch" placeholder="تلاش کریں..." type="text"/>
<select id="contactSortBy">
<option value="name">نام (الف تا ی)</option>
<option value="nameDesc">نام (ی تا الف)</option>
</select>
<button onclick="filterAndSort('contacts')">فلٹر / ترتیب دیں</button>
</div>
<div class="export-options">
<button class="print-btn" onclick="printTable('contactsTable')">پرنٹ کریں</button>
<button onclick="exportTable('contactsTable', 'csv')">CSV ایکسپورٹ کریں</button>
<button onclick="exportTable('contactsTable', 'pdf')">PDF ایکسپورٹ کریں</button>
</div>
<table id="contactsTable">
<thead>
<tr>
<th>نام/تنظیم</th>
<th>فون</th>
<th>ای میل</th>
<th>رشتہ/معمول</th>
<th>پتہ</th>
<th>آپشنز</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</section>
<!-- کارگزاریاں Module -->
<section class="module-section" id="performance">
<h2>کارگزاریاں – ماہانہ، سہ ماہی، سالانہ کارکردگی</h2>
<form id="performanceForm">
<input id="performanceId" type="hidden"/>
<div class="form-group">
<label for="performanceTitle">کارگزاری کا عنوان:</label>
<input id="performanceTitle" required="" type="text"/>
</div>
<div class="form-group">
<label for="performancePeriod">مدت:</label>
<select id="performancePeriod">
<option value="ماہانہ">ماہانہ</option>
<option value="سہ ماہی">سہ ماہی</option>
<option value="سالانہ">سالانہ</option>
<option value="دیگر">دیگر</option>
</select>
</div>
<div class="form-group">
<label for="performanceDate">تاریخ:</label>
<input id="performanceDate" required="" type="date"/>
</div>
<div class="form-group">
<label for="performanceDetails">تفصیل:</label>
<textarea id="performanceDetails" rows="3"></textarea>
</div>
<div class="form-group">
<label for="performanceFiles">فائلیں (پی ڈی ایف، تصاویر):</label>
<input accept=".pdf,image/*" id="performanceFiles" multiple="" type="file"/>
<div class="file-upload-preview" id="performanceFilesPreview"></div>
</div>
<div class="action-buttons">
<button type="submit">محفوظ کریں</button>
<button id="clearPerformanceForm" type="button">صاف کریں</button>
</div>
</form>
<h3>کارگزاریوں کی فہرست</h3>
<div class="controls">
<input id="performanceSearch" placeholder="تلاش کریں..." type="text"/>
<input id="performanceFilterDate" type="date"/>
<select id="performanceSortBy">
<option value="date">تاریخ وار (قدیم ترین)</option>
<option value="dateDesc">تاریخ وار (جدید ترین)</option>
<option value="period">مدت</option>
</select>
<button onclick="filterAndSort('performance')">فلٹر / ترتیب دیں</button>
</div>
<div class="export-options">
<button class="print-btn" onclick="printTable('performanceTable')">پرنٹ کریں</button>
<button onclick="exportTable('performanceTable', 'csv')">CSV ایکسپورٹ کریں</button>
<button onclick="exportTable('performanceTable', 'pdf')">PDF ایکسپورٹ کریں</button>
</div>
<table id="performanceTable">
<thead>
<tr>
<th>تاریخ</th>
<th>عنوان</th>
<th>مدت</th>
<th>تفصیل</th>
<th>فائلیں</th>
<th>آپشنز</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</section>
<!-- پروگراموں کا شیڈول Module -->
<section class="module-section" id="schedules">
<h2>پروگراموں کا شیڈول – اجتماعات، مجلس، ختم بخاری، دیگر</h2>
<form id="scheduleForm">
<input id="scheduleId" type="hidden"/>
<div class="form-group">
<label for="scheduleName">پروگرام کا نام:</label>
<input id="scheduleName" required="" type="text"/>
</div>
<div class="form-group">
<label for="scheduleType">نوعیت:</label>
<input id="scheduleType" placeholder="اجتماعات، مجلس، ختم بخاری، دیگر" type="text"/>
</div>
<div class="form-group">
<label for="scheduleDate">تاریخ:</label>
<input id="scheduleDate" required="" type="date"/>
</div>
<div class="form-group">
<label for="scheduleTime">وقت:</label>
<input id="scheduleTime" required="" type="time"/>
</div>
<div class="form-group">
<label for="scheduleLocation">جگہ:</label>
<input id="scheduleLocation" type="text"/>
</div>
<div class="form-group">
<label for="scheduleDetails">تفصیل:</label>
<textarea id="scheduleDetails" rows="3"></textarea>
</div>
<div class="action-buttons">
<button type="submit">محفوظ کریں</button>
<button id="clearScheduleForm" type="button">صاف کریں</button>
</div>
</form>
<h3>پروگراموں کے شیڈول کی فہرست</h3>
<div class="controls">
<input id="scheduleSearch" placeholder="تلاش کریں..." type="text"/>
<input id="scheduleFilterDate" type="date"/>
<select id="scheduleSortBy">
<option value="dateTime">تاریخ و وقت (قدیم ترین)</option>
<option value="dateTimeDesc">تاریخ و وقت (جدید ترین)</option>
<option value="type">نوعیت</option>
</select>
<button onclick="filterAndSort('schedules')">فلٹر / ترتیب دیں</button>
</div>
<div class="export-options">
<button class="print-btn" onclick="printTable('schedulesTable')">پرنٹ کریں</button>
<button onclick="exportTable('schedulesTable', 'csv')">CSV ایکسپورٹ کریں</button>
<button onclick="exportTable('schedulesTable', 'pdf')">PDF ایکسپورٹ کریں</button>
</div>
<table id="schedulesTable">
<thead>
<tr>
<th>تاریخ</th>
<th>وقت</th>
<th>پروگرام کا نام</th>
<th>نوعیت</th>
<th>جگہ</th>
<th>تفصیل</th>
<th>آپشنز</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</section>
<!-- پیغامات Module -->
<section class="module-section" id="messages">
<h2>پیغامات – دفتر کو موصول یا دفتر کی جانب سے ارسال</h2>
<form id="messageForm">
<input id="messageId" type="hidden"/>
<div class="form-group">
<label for="messageType">نوعیت:</label>
<select id="messageType">
<option value="موصول شدگان">موصول شدگان</option>
<option value="ارسال کردہ">ارسال کردہ</option>
</select>
</div>
<div class="form-group">
<label for="messageSenderReceiver">بھیجنے والا/وصول کنندہ:</label>
<input id="messageSenderReceiver" required="" type="text"/>
</div>
<div class="form-group">
<label for="messageSubject">مضمون:</label>
<input id="messageSubject" type="text"/>
</div>
<div class="form-group">
<label for="messageDetails">تفصیل:</label>
<textarea id="messageDetails" rows="3"></textarea>
</div>
<div class="form-group">
<label for="messageDate">تاریخ:</label>
<input id="messageDate" required="" type="date"/>
</div>
<div class="form-group">
<label for="messageFiles">فائلیں (پی ڈی ایف، تصاویر):</label>
<input accept=".pdf,image/*" id="messageFiles" multiple="" type="file"/>
<div class="file-upload-preview" id="messageFilesPreview"></div>
</div>
<div class="action-buttons">
<button type="submit">محفوظ کریں</button>
<button id="clearMessageForm" type="button">صاف کریں</button>
</div>
</form>
<h3>پیغامات کی فہرست</h3>
<div class="controls">
<input id="messageSearch" placeholder="تلاش کریں..." type="text"/>
<input id="messageFilterDate" type="date"/>
<select id="messageSortBy">
<option value="date">تاریخ وار (قدیم ترین)</option>
<option value="dateDesc">تاریخ وار (جدید ترین)</option>
<option value="type">نوعیت</option>
</select>
<button onclick="filterAndSort('messages')">فلٹر / ترتیب دیں</button>
</div>
<div class="export-options">
<button class="print-btn" onclick="printTable('messagesTable')">پرنٹ کریں</button>
<button onclick="exportTable('messagesTable', 'csv')">CSV ایکسپورٹ کریں</button>
<button onclick="exportTable('messagesTable', 'pdf')">PDF ایکسپورٹ کریں</button>
</div>
<table id="messagesTable">
<thead>
<tr>
<th>تاریخ</th>
<th>نوعیت</th>
<th>بھیجنے والا/وصول کنندہ</th>
<th>مضمون</th>
<th>تفصیل</th>
<th>فائلیں</th>
<th>آپشنز</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</section>
<!-- خطوط Module -->
<section class="module-section" id="letters">
<h2>خطوط – مختلف افراد/شعبہ جات کو جاری کردہ خطوط</h2>
<form id="letterForm">
<input id="letterId" type="hidden"/>
<div class="form-group">
<label for="letterRecipient">وصول کنندہ (فرد/شعبہ):</label>
<input id="letterRecipient" required="" type="text"/>
</div>
<div class="form-group">
<label for="letterSubject">مضمون:</label>
<input id="letterSubject" type="text"/>
</div>
<div class="form-group">
<label for="letterDate">تاریخ اجرا:</label>
<input id="letterDate" required="" type="date"/>
</div>
<div class="form-group">
<label for="letterDetails">تفصیل:</label>
<textarea id="letterDetails" rows="3"></textarea>
</div>
<div class="form-group">
<label for="letterFiles">فائلیں (پی ڈی ایف، تصاویر):</label>
<input accept=".pdf,image/*" id="letterFiles" multiple="" type="file"/>
<div class="file-upload-preview" id="letterFilesPreview"></div>
</div>
<div class="action-buttons">
<button type="submit">محفوظ کریں</button>
<button id="clearLetterForm" type="button">صاف کریں</button>
</div>
</form>
<h3>خطوط کی فہرست</h3>
<div class="controls">
<input id="letterSearch" placeholder="تلاش کریں..." type="text"/>
<input id="letterFilterDate" type="date"/>
<select id="letterSortBy">
<option value="date">تاریخ وار (قدیم ترین)</option>
<option value="dateDesc">تاریخ وار (جدید ترین)</option>
</select>
<button onclick="filterAndSort('letters')">فلٹر / ترتیب دیں</button>
</div>
<div class="export-options">
<button class="print-btn" onclick="printTable('lettersTable')">پرنٹ کریں</button>
<button onclick="exportTable('lettersTable', 'csv')">CSV ایکسپورٹ کریں</button>
<button onclick="exportTable('lettersTable', 'pdf')">PDF ایکسپورٹ کریں</button>
</div>
<table id="lettersTable">
<thead>
<tr>
<th>تاریخ اجرا</th>
<th>وصول کنندہ</th>
<th>مضمون</th>
<th>تفصیل</th>
<th>فائلیں</th>
<th>آپشنز</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</section>
<!-- مطالبات Module -->
<section class="module-section" id="demands">
<h2>مطالبات – وسائل یا دیگر امور کے مطالبات</h2>
<form id="demandForm">
<input id="demandId" type="hidden"/>
<div class="form-group">
<label for="demandSubject">مطالبے کا عنوان:</label>
<input id="demandSubject" required="" type="text"/>
</div>
<div class="form-group">
<label for="demandRequester">مطالبہ کرنے والا:</label>
<input id="demandRequester" required="" type="text"/>
</div>
<div class="form-group">
<label for="demandDate">تاریخ مطالبہ:</label>
<input id="demandDate" required="" type="date"/>
</div>
<div class="form-group">
<label for="demandDetails">تفصیل:</label>
<textarea id="demandDetails" rows="3"></textarea>
</div>
<div class="form-group">
<label for="demandStatus">حالت:</label>
<select id="demandStatus">
<option value="زیر التوا">زیر التوا</option>
<option value="مکمل">مکمل</option>
<option value="منظور شدہ">منظور شدہ</option>
<option value="مسترد شدہ">مسترد شدہ</option>
</select>
</div>
<div class="form-group">
<label for="demandFiles">فائلیں (پی ڈی ایف، تصاویر):</label>
<input accept=".pdf,image/*" id="demandFiles" multiple="" type="file"/>
<div class="file-upload-preview" id="demandFilesPreview"></div>
</div>
<div class="action-buttons">
<button type="submit">محفوظ کریں</button>
<button id="clearDemandForm" type="button">صاف کریں</button>
</div>
</form>
<h3>مطالبات کی فہرست</h3>
<div class="controls">
<input id="demandSearch" placeholder="تلاش کریں..." type="text"/>
<input id="demandFilterDate" type="date"/>
<select id="demandSortBy">
<option value="date">تاریخ وار (قدیم ترین)</option>
<option value="dateDesc">تاریخ وار (جدید ترین)</option>
<option value="status">حالت</option>
</select>
<button onclick="filterAndSort('demands')">فلٹر / ترتیب دیں</button>
</div>
<div class="export-options">
<button class="print-btn" onclick="printTable('demandsTable')">پرنٹ کریں</button>
<button onclick="exportTable('demandsTable', 'csv')">CSV ایکسپورٹ کریں</button>
<button onclick="exportTable('demandsTable', 'pdf')">PDF ایکسپورٹ کریں</button>
</div>
<table id="demandsTable">
<thead>
<tr>
<th>تاریخ</th>
<th>عنوان</th>
<th>مطالبہ کرنے والا</th>
<th>تفصیل</th>
<th>حالت</th>
<th>فائلیں</th>
<th>آپشنز</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</section>
<!-- بیک اپ / ری سٹور Module -->
<section class="module-section" id="backupRestore">
<h2>ڈیٹا بیک اپ و ری سٹور (JSON)</h2>
<h3>ڈیٹا بیک اپ</h3>
<p>اپنی تمام ڈیٹا کو JSON فائل میں ڈاؤن لوڈ کریں۔</p>
<div class="action-buttons">
<button onclick="backupData()">بیک اپ ڈاؤن لوڈ کریں</button>
</div>
<h3>ڈیٹا ری سٹور</h3>
<p>JSON فائل سے ڈیٹا اپ لوڈ کر کے اپنے ڈیٹا کو بحال کریں۔</p>
<div class="form-group">
<label for="restoreFile">JSON فائل منتخب کریں:</label>
<input accept=".json" id="restoreFile" type="file"/>
</div>
<div class="action-buttons">
<button onclick="restoreData()">ڈیٹا بحال کریں</button>
</div>
<p style="color: red;"><strong>وارننگ:</strong> ڈیٹا بحال کرنے سے موجودہ ڈیٹا تبدیل ہو سکتا ہے۔</p>
</section>
</main>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
<script type="module">
  import { Workbox } from 'https://storage.googleapis.com/workbox-cdn/releases/7.0.0/workbox-window.prod.mjs';

  const swUrl = './sw.js';
  const wb = new Workbox(swUrl);

  // This event fires when a new service worker has installed but is waiting to activate.
  wb.addEventListener('waiting', (event) => {
    console.log('A new service worker is waiting to activate.');
    // This sends a message to the waiting service worker, telling it to activate.
    wb.messageSW({ type: 'SKIP_WAITING' });
  });

  // This event fires when the new service worker has taken control.
  wb.addEventListener('controlling', (event) => {
    console.log('The new service worker is now in control. Reloading page for updates...');
    window.location.reload();
  });

  // Register the service worker.
  wb.register();
</script></body>
</html>